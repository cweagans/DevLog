<h1 id="returning-newly-inserted-record"><a aria-hidden="true" class="anchor-heading" href="#returning-newly-inserted-record"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Returning Newly Inserted Record</h1>
<h2 id="return-newly-inserted-record"><a aria-hidden="true" class="anchor-heading" href="#return-newly-inserted-record"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Return Newly Inserted Record</h2>
<p>When inserting a new record into a table, if you also want that record immediately
returned to the output viewer after insertion just add the <code>RETURNING</code> keyword</p>
<h3 id="before"><a aria-hidden="true" class="anchor-heading" href="#before"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Before</h3>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> products <span class="token punctuation">(</span> col1<span class="token punctuation">,</span> col2<span class="token punctuation">,</span> col3 <span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">,</span> val3 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="after"><a aria-hidden="true" class="anchor-heading" href="#after"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>After</h3>
<pre class="language-sql"><code class="language-sql"><span class="token comment">-- This returns all fields of the newly inserted record but you can also make</span>
<span class="token comment">-- the returned value something like just the new PK ID of the record</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> products <span class="token punctuation">(</span> col1<span class="token punctuation">,</span> col2<span class="token punctuation">,</span> col3 <span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span> val1<span class="token punctuation">,</span> val2<span class="token punctuation">,</span> val3 <span class="token punctuation">)</span> <span class="token keyword">RETURNING</span> <span class="token operator">*</span><span class="token punctuation">;</span>
</code></pre>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/DevLog/notes/f6wx02gwrpmg9job7qwdbjt">2022-01-10 (DevLog)</a></li>
</ul>